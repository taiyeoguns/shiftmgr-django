{% extends "site/index.html" %}
{% load static %}

{% block 'page-css' %}
<link rel="stylesheet" href="{% static 'css/shifts/index.min.css' %}">
{% endblock 'page-css' %}

{% block 'content' %}

{% if ongoing_shift %}
<div class="box box-success">
	<div class="box-header with-border">
		<h3 class="box-title">Today&apos;s Shift</h3>

	<div class="box-tools pull-right">
		<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
	</div>

	</div>
	<div class="box-body">
		<!---->

		<table class="table table-bordered table-hover table-striped">
			<thead>
				<tr>
					<th>Shift Date</th>
					{% if user.is_member or user.is_admin %}
					<th>Manager</th>
					{% endif %}
				</tr>
			</thead>
			<tbody>
				<tr href="{% url 'login' %}">
					<td>{{ ongoing_shift.date|date:"d/m/Y" }}</td>
					{% if user.is_member or user.is_admin %}
					<td>{{ ongoing_shift.manager.user.get_full_name }}</td>
					{% endif %}
				</tr>
			</tbody>
		</table>

		<!---->
	</div>
</div>
{% endif %}

<div class="box box-primary">
	<div class="box-header with-border">
		<h3 class="box-title">Upcoming Shifts</h3>

	<div class="box-tools pull-right">
		<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
	</div>

	</div>
	<div class="box-body">
		<!---->
		{% if not upcoming_shifts %}
			<em>No upcoming shifts.</em>
		{% else %}
		<table class="table table-bordered table-hover table-striped shifts-table">
			<thead>
				<tr>
					<th>Shift Date</th>
					{% if user.is_member %}
					<th>Manager</th>
					{% endif %}
				</tr>
			</thead>
			<tbody>
				{% for shift in upcoming_shifts%}
				<tr href="{% url 'login' %}">
					<td>{{ shift.date|date:"d/m/Y" }}</td>
					{% if user.is_member %}
					<td>{{ shift.manager.user.get_full_name }}</td>
					{% endif %}
				</tr>
				{% endfor %}
			</tbody>
		</table>
		{% endif %}
		<!---->
	</div>
</div>


{% if past_shifts %}
<div class="box box-default">
	<div class="box-header with-border">
		<h3 class="box-title">Past Shifts</h3>

	<div class="box-tools pull-right">
		<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
	</div>

	</div>
	<div class="box-body">
		<!---->

		<table class="table table-bordered table-hover table-striped past-shifts-table">
			<thead>
				<tr>
					<th>Shift Date</th>
					<th>Manager</th>
				</tr>
			</thead>
			<tbody>
				{% for shift in past_shifts %}
				<tr href="{% url 'login' %}">
					<td>{{ shift.date|date:"d/m/Y" }}</td>
					<td>{{ shift.manager.user.get_full_name }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>

		<!---->
	</div>
</div>
{% endif %}

{% endblock %}

{% block 'page-js' %}
<script src="{% static 'js/shifts/index.min.js' %}"></script>
{% endblock 'page-js' %}
